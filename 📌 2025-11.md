
// this is a draft of my personal notes as a senior PM in Fabric's Platform automation team, where I'm focusing on developer experience and automation scenarios, and currently lead the work on the Fabric CLI and the efforts around MCPs (Model context protocol) in Fabric.


 
# PM ‚Äî Hasan

Spec --> requirements --> handover


Direct to MWC (?) I need to better understand.



Personal notes:
- Kim likes Mocks/Flows/Steps



Action Items:

- Hasan: update after meeting with OneLake team (will post on MCP Weekly chat)
- Hasan+Ran: discuss getting item relationships (parent-child for now) in our public API
- Hasan+Alon+Eva: decide on the requirement regarding usage telemetry (e.g., ADO-->CLI-->SDK counts as what?)
- Hasan+Chen/Maher: organize ADO based on Doron's requirement





Learn more about the personas:
- Citizen dev
- Dev
...


Sync with Ali Hammud on MCPs (Review specs)


Telemetry across tools.


Backlog with AlonY and Chen


Fill Connect




### prep for execution
- Prepare customer feedback about the CLI + MCP (for execution review)
- Present a slide with the Usage dashboard initiatives
- Prepare to a slide telemetry of local MCP
- Slide on MCP status
- Demos: MCP demo (video) + CLI OSS (first PR)



SHOW SHOW SHOW (mockups etc...)


Create mockup for MCP Server Item


------------------------------------------------
------------------------------------------------
------------------------------------------------


# Additional Efforts


## FabCon Atlanta Talk
(with Alon Baram)



Ask Kim: what she thinks

We need to not differentiate from CI/CD story (not just deployment)
Ask Yaron if he submitted a session (so we don't conflict

Hasan: Main, Alon: Co


##


------------------------------------------------
------------------------------------------------
------------------------------------------------




# CLI



## Tasks
- Review GitHub issues
- CLI Spec/Vision (with portal, OSS, item ...)
- Written plan to increase engagement
- - ADO extension
- - Samples repo
- - Deploy command
- - ...
- Publish CLI issues we have (with spec)
- Send follow-up to Kurt





Prepare for the meeting with Amir about the CI/CD





CI/CD gaps with CLI: will meet with Jacob to further discuss.


## CLI in the web

### Action Items
1. Hasan to put the high-level doc/definition (by next week)
2. Menglu to review
3. Meet with Avishag

### KrQ1 Goal
Understand scenario and goal of the feature (usage vs statement.. I'll not put it that way to leadership). Also crystalize and validate problem statement.




## Running remote CLI scripts
- CLI item (pre-config + script)
- CLI from UDFs
- CLI from NB

---


I need to define the requirements (is it context aware for example etc...)



Making Fabric more developer friendly experience:


Nothing taken for granted.
Usage-driven, it's not about signaling to developers that they are welcomed.









------------------------------------------------
------------------------------------------------
------------------------------------------------



# Fabric MCP(s)



## Hosted MCP


Ryan Pfalz (sync with Aviv?)



## Action Items:
- formalize the contribution process




How teams extend our capabilities by additional teams
Copilot unification work, we need to take ownership on the MCP server there ()




Yes. We have discussed the approach for the hosted MCP, and are now formalizing the process. I'm putting it together in a doc which we can share with other teams üëç will send the doc her by Monday.
 
In a nutshell the process depends whether the capability the workload team want to add exist in the public API:
If Yes: they submit a proposal to us (currently by contacting me directly), and we add it to our API/Execution MCP if relevant. 
If not (i.e., tool with custom login): we guide them how to implement their own MCP on top of our infra (which currently provide s auth and routing)



Goal: support whatever the public APIs support.

- Separate MCP for Admin (tenant admin)
- 


Missing: 
Graph APIs


Private links ‚Äî not sure if we can support by public preview (Mahir is checking ‚Äî TBD in the mcp-weekly meeting)

in Q2:
- Add admin switch (allow MCP on the tenant level). Workspace setting as well?
-


Current design approach: 1 tool = 1 API (for the public preview), we can adapt later as needed.












---




# Local MCP

Do we mind adding execution commands?












Amos: VScode extensions texts etc.

Telemetry



Specs for the MCPs ‚Äî will review with Amos and Mahir and then share with everyone for review.



Tali: User agent propagation

Telemetry: new usage dashboard.



Ran set command ‚Äî partial updates for definition editing. Definition patching (partials).



CLI to propose functionality that is done by 



item child-parent mapping: follow-up with munir.



Chen: meeting tomorrow.







//


Meeting with Rui:



Terraform

Instructions



(( Business intent to data solution ))



Spec driven development, in agentic development (brings determinism).



Acceptence creteria.



Vibing with plan mode.



Different persona ()





Vibing with planning mode?

How will the agent execute?

Artifacsts > Terraform? diffirent personas





fabric-cli.agent.md





Missing instructions in the MCP spec, resources





(( CLI scripts ))





Yaml: 





Blueprint != template for workspaces.





Terraform?

CLI?



Sync to the spec.



This is not a CI/CD.









Blueprint



** How good are they with repetitive tasks **

(( CLI ))





SpecKit, OpenSpec exsiting frameworks.





Custom guardrails - standards.md

injecting the md file





BluePrint "Lite"



Work with M0 etc...





If we can make the CLI available in the service.



Preinstalled.





MCP that runs CLI commands





MCP to generate CLI code and execute it!!!





CLI is a lot more powerful!!





CLI scripting tool 




Add agents.md to the repo








Reach out to more teams to ask for their requirements from the hosted MCP tools.


Onboard them + what they need from current APIs


OneLake is waiting.
Timeline: when are we ready to integrate.


(2) support the unified-copilot/blueprint (prioritize)




Map of all teams and their MCP/agents efforts.

Check aviv's file





---




---
 







Only urgency to Dec is to support the teams.

API to call the CLI.



CLI in the service.

Core.



We can iterate 



Ready to integrate.



Private preview in Jan, Public Preview in FabCon Atlanta.








Auth for vs-code.

Tools to support.



Claude - handle auth.





Extension story for the local.





Talk to Ran Didi: about the extensibility model.



Library that we give. 





local server 

we need to support , not force (those who want to build with us) -- here's how you enter to our MCP (local) 





Is it diffirent path / diffirent auth. etc...



Customer loads the MCP, can work with everything, unified auth. 



requirements: as easy as possible, support many hosts.



customer experience.


Me = customer facing 
not engineer driven

I'm as a user


---






Monday: 13:00, 11:30
Review with Aviv








CLI Notebook:

Common sessions of the CLI.





For MVP: Python to call the CLI.



Limitaiton: tenant admin read/write scope.



Enabler for AI agents.







Public Preview CLI+NB in FabCon.




----






fab shell start





Update about in the eng/pm weekly:


- NB integration: we don't have tenant read/write
- Support without admin APIs
- Admin:

Q2
Versions of CLI: (backward complitability)


Who does the work on scopes.


CLI version in definition





- CLI in the web


- MCP specs review (need to review with Mahir and Amos by Sunday): go spec.
- - - timeline private preview

- Telemetry 
- 




Swagger vs docs (for definitions)









-----



Not our problem.

Provide better UX.



Definition schemas in repo: 



Support what's supported in the repo.





Aliases:

- 





Update definition:





Discoverability of schemas.







Need to talk about the get/set commands.

We need spec for them.







Get command: handle separately.





Update definition API?





Set command - where did we get from?





Changes in paths (?)...









UX.



Update aliases









Update item

Update definition





Definition is versioned





-----





No discoverability





Ask Aitor about why these 3 properties









set command is so powerful,

If you don't know what you're doing you can miss up.



It will be great to open it up.

Aliases makes sense.





set command to change...





Disclaimer: you can change anything but it could change.. 



Ensure to have git integration

Are you sure?









Changes in definitions could break customers...







Validate you obtained the property via get command.. try to duplicate the command











put research questions for the call with Avishag.






Send to the OSS business review..









# call with notebook team:


Zoom out from implementation:



Suggest:



Needed Tools into 3 buckets:

* available in API

* makes sense to be available API

* doesn't make sense to be in API







worksapce



/Notebook





2 notes:









Local MCP - 







Protocol specific APIs vs public APIs?








Meeting: Notebook Workload as MCP Server.


Longer term plan we're currently researching.


job run


Host MCP server in the notebook workload


Notebook agent.


General APIs

Other tools:
- 
- 


Platform MCP / Public API MCP


Create items / create notebook.





------------

user agent propagation:


CLI host 

Metrics of 



ADO extensions:










----



MCP Server item:
Do custom api surface as well (on the way)
this will help with authZ
make it more for ISV scenarios 
with Teddy + Nadav
Talk to Sruly

pakcage diffirent parts as public apis
data product = custom
Nadav - data products from catalog
Sruly - data sharing
Teddy - isv can create backend in Fabric







-----




Video







Telemetry: we have access.

Set with Amos.

Telemetry on packages.

Where did they use us from.





OneLake



Auth: move to central place.



Execution:

Wait a bit, and let them connect to two MCPs.







Extensibility



Throttling of GitHub - dynamic swagger.





First Release:

Next week: first release.







Extensibility:



 





 ---



 Execution.

CLI in the web.

Local MCP 





This is my place to Kim to see me.



Engagement, customer learnings, usage, how to attract more usage/NPS.



Meetings with customers.





CLI OSS:

What's my impact there.

Go over the requests.



CLI: more efforts

PM work on CLI.

One point is 





Kurt 

Partners Voice round table.

Notebooks.





----





Efforts 4+5 in talking points (not in the slide) keep it focused on KR.

December discussion about them.



----



Another: 

We need to work with them.

We need to start building the wiki.

Make it happen.



Open the wiki.

Maher + Amos to fill.

Send to other teams...



------





CLI in the web.



Swift research vs deeper.



For deeper research we need to come up with design.



Persona: ProDev (find personas).





Does she only validate assumptions?



I need to genetate the research hypothesis --- set of hypothesis.

based on the personas.

+ experience for it.



Scripts vs interactive mode..





CLI in the web.



Talk with customers..





Need, Scenario, UX.





Rivka's role? 

mockups





talk to customers..



What are customers use CLI for.





Alex Powers: can I post on redit?





Session for FabCon.

Submit a session with Kurt.





Alon: Real world examples and what's new? 
level 100.. scenarios, wahts new


300 end to end live demo with kurt on alon y




 




Aviat questions

1. what do you mean by: Same query works consistently across all output formats - we ¬†want to support filtering the output format obj?
2. what is global -q ? "Command-specific -q takes precedence over global -q"
3. Performance - we are using Jmespath so I don't have control on how they filter the data?



one more Q - what we decided regarding -l flag? -q will always ¬†override it?¬†
meaning if we get -q we always run the second API call¬†
-q is like user write -l with filter



Global vs command specific
fab ls -l -q  vs  fab ls -q











# Review with Aviv

Support unified copilot

Control-plane (in the public APIs) vs all te public APIs 

extensibiltiy: tool conflicting (git-connected workspace creation)





Story in fabcon (blog)
‚Äî> requirements
‚Äî> spec
‚Äî> priorities backlog
‚Äî> Plan (Engineering)

Negotiate




Requirements in the spec > processes (work with engineering, they lead it)


What will enable the workloads to work (workload enablers)
What‚Äôs our role in the process (review etc..)

Does the contribution process need to be in the spep

Convert requirements to ‚Äúas a user I can‚Ä¶‚Äù




User stories: a developer gets into vscode and connects to mcp via vscode‚Ä¶
What the users does in the flow‚Ä¶


How many users are building agents in Copilot studio 

(Think of the demo)

Then it‚Äôs clear the connection to the requirements‚Ä¶





1. User (pro-dev) ‚Äî> Action/flow ‚Äî> requirements
2. Workload enablers. Unified Copilot is a customer (currently developed by PBI ‚Äî workload)
3. Platform (?) with the Herzliya team. Admin API. (Separate MCP)
4. 




Platform


Requirement: all what I can do with the API I want to be able to do with agent.


Why do we need 




We want to be reviewers to the separate MCP (we‚Äôre the owners ‚Äî similar to the APIs story).




In Spec:
- Problem statement 
- Business justification (value‚Ä¶)
- Scenarios - priority - user/persona - tool (vscode, copilot‚Ä¶)
    - Fabric copilot (we‚Äôre enablers)
    - Workload (in wiki?)
    - VScode (we‚Äôre owners of the persona)
    - 

Platform.. (auth, datastreaming)

Workload enablement (tools of PowerBI)
Workloads who are building their own agents and want 



2 specs: Fabric Hosted MCP vs Fabric library to build you MCP in Fabric





Look at CI/CD what they did.




Interactive vs autonomous in hosted map



Complex scenarios



Control plane MCP instead of hosted MCP.


Data agents (ask Marcus about multiple MCP servers scenario) 







Local MCP.



Redit: agentic development in Fabric




Reply here:https://www.reddit.com/r/MicrosoftFabric/comments/1odxfk9/should_i_use_mcp_when_developing_fabric_and_power/


‚Äî‚Äî



Show plan how are we going to grow usage:
* PM work (show what we‚Äôre doing)


Can I show something at 3pm 







///



CLI in the web





CLI in NB









Process of MCP contribution.





CI/CD library ‚Äî 





CLI as library..





Why run CLI from Notebook while we have python SDK.









MCP requirements:

 bare url /mcp/powerbi/ (without workspaces etc...)
next step: talk to MWC to check
Open feature in ADO

Unified copilot: help generate content in Fabric.
Blueprint: requirements around items and things in the workspace. How does this relate to automation..
* Filtering by display name (search api from catalog team) ‚Äî Check with Nadav.
* OneLake APIs, beyond Fabric APIs. MCP of OneLake. Graph MCP. (need solving the workspace thing)






Pre plan for Q2-planing. 



//



Meeting with Rivka and Avishag.


Can do survey.

Ask Aviv regarding reddit post



// CLI in the web: - research:











‚Å†Mental model of users: how the perceive CLI vs Copilot
What's the tasks the personas are doing (what's the workflow)

ProDev persona

Why will ProDev goes into the portal.

Why non pro-dev would use the CLI (over copilot)

What will get you into the portal.

Check existing fabric feedback on pro-dev and portal

Scoping CLI work only to specific workspaces

Other potential personas

export audit logs

we don't know what the copilot gives.
can we think co-pilot not exist?


Meet with customers: pro-devs and citizen -devs.

User

Research on the exiting CLI 

What people do with the CLI today + What pro-dev

Talk to some users that use the CLI today 


Is there value?
To who?
How? and how will it talk with Copilot?

Build research plan
(( Meet on research plan ))







----


Main Focus: CLI increase usage.‚Äã

- Open source: managing contributions, engaging the community‚Äã

- Integrations: VSCode extension, ADO, Notebooks, UDFs‚Äã

- Scripts library: sample scripts for common use-cases (open-sourced repo)‚Äã

- UX research on additional personas beyond ProDev and DevOps (e.g., admins, data scientists)‚Äã

- Publicity: keep pushing blogs, meetings with customer voice etc‚Ä¶ ‚Äã

‚Äã

‚Äã

Satisfaction:‚Äã

- Survey among current users (feedback + measuring NSAT)‚Äã
- Plan new features & extensions












---------------------------------------------------





# CLI in the web



We need to be consistent
In terms of pricing
CLI in the service will need a spark to run on. Who will pay for that?


Billing of using copilot. (What‚Äôs their pricing model.. maybe we can learn from it)



Copilot will take time. (Maybe we don‚Äôt need to wait for them? It‚Äôs still unclear what capabilities they will provide, and when?)


CLI in NB could be first step towards CLI in the web, and help us validate.


Persona of Notebook; who is using notebook today and what can the cli bring to them? Can the cli expand their personas? (e.g., control plane operations in notebooks).
  



IMPORTANT QUESTION:
Who‚Äôs our persona for the CLI today.
Is it pro-dev, IT/Admin,  Workspace administrator, Capacity admin??? (Need to check fabric personas website)



Enterprise voice: we‚Äôre running a CLI in the service survey. 
Talk to them. Need to understand who in the enterprise use the CLI.


Talk to Mathew (ask what to do)
Write in enterprise voice.


We still don‚Äôt know who is the persona.


Why / Why not do CLI in the web?







AI Agent is can be a persona of the CLI.


I need to bring usage.

Bring

40K users




How do I want to create usage.
















